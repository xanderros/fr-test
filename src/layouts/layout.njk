<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Basic Meta Tags -->
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>
      {% block title %}FR Test - Alexander Kuleshov{% endblock %}
    </title>
    <meta name="language" content="English"/>

    <!-- Critical CSS Inline -->
    <style>
      {{criticalCSS | safe}}
    </style>

    <!-- Non-critical CSS (async load) -->
    <link rel="preload" href="/css/style.css" as="style"/>
    <script>
      // Async CSS loading
      const link = document.createElement('link');
      link.rel = 'stylesheet';
      link.href = '/css/style.css';
      document
        .head
        .appendChild(link);
    </script>

    <!-- SEO Meta Tags -->
    <meta name="description" content="{% block description %}FR Test - Alexander Kuleshov{% endblock %}"/>
    <meta name="keywords" content=""/>
    <link rel="canonical" href="{% block canonical %}{% endblock %}"/>

    <!-- Security -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' https://cdn.sanity.io https://focusreactive.com https://cdn.jsdelivr.net https://placehold.co; font-src 'self' data:; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net;">

    <!-- Preconnect and DNS Prefetch -->
    <link rel="dns-prefetch" href="https://cdn.sanity.io/"/>
    <link rel="preconnect" href="https://cdn.sanity.io/" crossorigin="anonymous"/>

    <!--  Preloading -->
    <link rel="preload" href="/fonts/InterDisplay-Regular.woff2" as="font" type="font/woff2" crossorigin/>
    <link rel="preload" href="/fonts/InterDisplay-Medium.woff2" as="font" type="font/woff2" crossorigin/>
    <link rel="preload" href="/fonts/InterDisplay-SemiBold.woff2" as="font" type="font/woff2" crossorigin/>
    <link rel="preload" href="/fonts/InterDisplay-Bold.woff2" as="font" type="font/woff2" crossorigin/>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="/css/style.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>

    <!-- Favicons -->
    <link rel="icon" type="image/png" href="/img/favicon/favicon-96x96.png" sizes="96x96"/>
    <link rel="icon" type="image/svg+xml" href="/img/favicon/favicon.svg"/>
    <link rel="shortcut icon" href="/img/favicon/favicon.ico"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon/apple-touch-icon.png"/>
    <link rel="manifest" href="/img/favicon/site.webmanifest"/>

    <!-- Open Graph Meta Tags -->
    <meta property="og:site_name" content="FR Test"/>
    <meta property="og:url" content="{% block og_url %}{% endblock %}"/>
    <meta property="og:title" content="{% block og_title %}{% endblock %}"/>
    <meta property="og:description" content="{% block og_description %}{% endblock %}"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    <meta property="og:image:type" content="image/png"/>
    <meta property="og:image:alt" content="{% block og_image_alt %}{% endblock %}"/>

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:url" content="{% block twitter_url %}{% endblock %}"/>
    <meta name="twitter:title" content="{% block twitter_title %}{% endblock %}"/>
    <meta name="twitter:description" content="{% block twitter_description %}{% endblock %}"/>
    <meta name="twitter:image" content="{% block twitter_image %}{% endblock %}"/>
    <meta name="twitter:image:alt" content="{% block twitter_image_alt %}{% endblock %}"/>

    <!-- Additional Head Content -->
    {% block head %}{% endblock %}
  </head>

  <body>
    <div class="wrapper">
      {% include "header.njk" %}

      <main class="main">
        {% block content %}{% endblock %}
      </main>
    </div>

    <!-- Scripts -->
    <script src="js/bundle.js" defer></script>
    {% block scripts %}{% endblock %}
  </body>
</html>